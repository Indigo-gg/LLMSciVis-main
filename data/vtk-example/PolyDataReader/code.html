<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js Isosurface Visualization</title>
    <link rel="stylesheet" href="https://kit.fontawesome.com/419a5ebb56.css" crossorigin="anonymous">
    <style>
        #renderer {
            width: 100%;
            height: 600px;
            background-color: #333;
        }
    </style>
</head>
<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkXMLPolyDataReader = vtk.IO.XML.vtkXMLPolyDataReader;
        const vtkActor = vtk.Rendering.Core.vtkActor;
        const vtkMapper = vtk.Rendering.Core.vtkMapper;

        // 创建渲染窗口
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // 加载VTKJS文件
        const reader = vtkXMLPolyDataReader.newInstance();
        // set url and load the data
        reader.setUrl('test_cone.vtp').then(() => {
            reader.loadData().then(() => {
                // 映射数据到actor
                const mapper = vtkMapper.newInstance();
                mapper.setInputData(reader.getOutputData(0));

                const actor = vtkActor.newInstance();
                actor.setMapper(mapper);

                // 将actor添加到场景中
                renderer.addActor(actor);
                renderer.resetCamera();
                renderWindow.render();
            });
        });
    </script>
</body>
</html>