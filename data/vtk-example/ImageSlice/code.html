<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;//用于渲染二维图片切片的actor
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // 创建渲染窗口
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // 创建图像数据
        const imageData = vtkImageData.newInstance();
        imageData.setDimensions(100, 100, 1);
        imageData.setSpacing(1.0, 1.0, 1.0);
        imageData.setOrigin(0.0, 0.0, 0.0);

        // 设置图像数据的像素值
        const scalars = new Uint8Array(100 * 100);
        for (let i = 0; i < 100 * 100; i++) {
            scalars[i] = Math.random() * 255;
        }
        imageData.getPointData().setScalars(vtk.Common.Core.vtkDataArray.newInstance({ values: scalars, numberOfComponents: 1 }));

        // 创建映射器和 actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(imageData);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // 将 actor 添加到渲染器
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>